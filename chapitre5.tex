\chapter{\sc Réalisation de la solution}
\label{chap:realisation-dep}
Nous  consacrons ce dernier chapitre à la présentation de la phase de réalisation de notre projet.  La partie réalisation est tout aussi importante que la conception. En effet,  c'est au cours de celle-ci que nous concrétisons notre travail. Ceci par l'implémentation d'un prototype de la solution présentée dans les précédents  chapitres. \\[0.7\baselineskip]
Dans la suite de ce chapitre, nous décrivons, d'une part, les plates-formes matérielles et logicielles sur lesquelles nous avons développé notre solution, ainsi que les  différents choix techniques que nous avons adopté. D'autre part, nous présentons notre application, ainsi achevée, à travers des captures d'écrans des interfaces relatives aux fonctionnalités principales.
\section{Environnement de travail}
La réalisation de tout projet informatique nécessite des choix matériels ainsi que logiciels, lesquels constituent ce que nous appelons environnement de travail.
\subsection{Environnement matériel}
Le développement de l'application s'est fait sur deux machines de type PC portables. Nous donnons ici, la marque et quelques caractéristiques de chacune d'elles :\\

\begin{itemize}
\item \textbf{Machine 1 :} Acer TravelMate 5735
\begin{itemize}
\item[$\bullet$] Microprocesseur : Intel(R) Core(TM) i5-4210U CPU @ 1.70GHz 2.40 GHz,
\item[$\bullet$] RAM : DDR3 6 GB,
\item[$\bullet$] Disque dur : 1 To.
\end{itemize}
\item \textbf{Machine 2 :} Toshiba  Sattelite L50
\begin{itemize}
\item[$\bullet$] Microprocesseur : Intel(R) Core(TM) i5-4210U CPU @ 1.70GHz 2.40 GHz,
\item[$\bullet$] RAM : DDR3 6 GB,
\item[$\bullet$] Disque dur : 1 To.
\end{itemize}

\end{itemize}

\subsection{Environnement logiciel}
Durant toute la phase de développement, nous avons utilisé l'environnement logiciel décrit ci-dessous.
\subsubsection{Système d'exploitation}
Les deux machines utilisées pour le développement sont équipées d'un système d'exploitation Windows et dont les caractéristiques sont les suivantes :

\begin{itemize}
	\item \textbf{Édition Windows }: Windows 8.1 Professionnel
	\item \textbf{Type du système :} Système d'exploitation 64 bits
\end{itemize}

\subsubsection{Choix du SGBD}
MySQL est un système de gestion de bases de données relationnelles. Il est distribué sous une double licence GPL et propriétaire. Il fait partie des logiciels de gestion de base de données les plus utilisés au monde, autant par le grand public (applications web principalement) que par des professionnels.\\
 \begin{wrapfigure}[4]{r}{3.5cm}
 	\includegraphics[width=0.8\linewidth]{./image_chapitre5/mysql}
 \end{wrapfigure}
MySQL est un serveur de bases de données développé dans un souci de performances élevées en lecture, ce qui signifie qu'il est davantage orienté vers le service de données déjà en place que vers celui de mises à jour fréquentes et fortement sécurisées. Il est multi-thread et multi-utilisateur.

\subsubsection{Serveur Web}
Tout au long du développement de notre application, nous avons utilisé le serveur
 \begin{wrapfigure}[4]{r}{3.5cm}
 	\includegraphics[width=0.8\linewidth]{./image_chapitre5/apache}
 \end{wrapfigure}
 Apache version 2.4.18. Apache HTTP Server (Apache) est un serveur HTTP créé et maintenu au sein de la fondation Apache. C'est le serveur HTTP le plus populaire du Web. Il est distribué selon les termes de la licence Apache. Apache offre diverses fonctionnalités dont la possibilité de définir des restrictions d'accès grâce aux fichiers htaccess ainsi qu'un support de serveurs virtuels.
 
 \section{Choix techniques}
 Avant de se lancer dans le développement, il est nécessaire de faire des choix techniques. Ces derniers dépendent généralement des objectifs et moyens du projet. Nous ne pouvons pas parler de bons choix dans l'absolu mais des choix bien adaptés à nos besoins ont été adoptés, et dont la description est donnée dans la suite de cette section.
 
 \subsection{Choix du langage}
 En développement, chaque technologie a ses propres spécificités, ses avantages et ses inconvénients. Le choix d'une technologie est un choix qui peut être qualifié de crucial, car il engage le développeur tout au long de son projet. Il existe de nombreuses architectures et langages pour la réalisation d'application Web. On distingue, généralement, trois grandes plateformes : 
 \begin{itemize}
 	\item J2EE (Java 2 Platform, Enterprise Edition),
 	\item Microsoft Dot Net,
 	\item et PHP (Hypertext Preprocessor).
 \end{itemize}
 Dans notre cas, nous avons décidé d'adopter le langage PHP en tant que principale technologie pour la réalisation du projet. Notre choix n'est pas fortuit mais découle d'une logique que nous pouvons résumer en citant les avantages majeurs qu'offre ce langage par rapport aux autres :
 \begin{itemize}
 	\item Tout d'abord, PHP est gratuit et ne nécessite aucune licence d'utilisation. De plus, il s'agit du langage de programmation Web le plus utilisé,
 	\item Côté performances, PHP est visiblement plus rapide que les autres langages puisqu'il ne requiert aucune précompilation,
 	\item Depuis sa version 5, PHP supporte les concepts de la programmation orientée objets. Ce qui le change du statut d'un simple langage de script pour pages personnelles et l'ouvre à des réalisations complexes structurées et performantes. Ceci a causé notamment l'apparition de nombreux Frameworks PHP (laravel, Symphony et autres).
 	
 \end{itemize}

\subsection{Nécessité d'un Framework}
\subsubsection{Framework PHP}
Traduit littéralement en français, le terme Framework signifie «cadre de travail». C'est un ensemble de bibliothèques et de conventions permettant le développement rapide d'une application. Il fournit une palette de briques logicielles et impose suffisamment de rigueur de développement pour pouvoir produire une application aboutie et facile à maintenir. Ces composants sont organisés pour être utilisés en interaction les uns avec les autres.

\subsubsection{Avantages des Frameworks}
Certes il n'est guère indispensable d'utiliser un Framework pour le développement d'une application Web. Et contrairement aux idées reçues, un Framework, en soi, n'est pas forcément un gage de qualité ni de sécurité. Tout dépend de son utilisation et de sa maîtrise, comme tout autre outil. Cependant, les Frameworks de développement ont de multiples avantages, et parmi lesquels, nous pouvons citer :
\begin{itemize}
	\item Développement rapide d'application (il n'est plus nécessaire de redévelopper tout un tas de fonctions),
	
	\item Organisation du projet (séparation des logiques techniques et logiques de présentation),
	
	\item Des composants et bibliothèques réutilisables (un composant peut servir dans plusieurs projets),
	
	\item Instauration de bonnes pratiques de codage (comme les standard PSR; PHP Standards Recommendation),
	
	\item La souplesse (laisse de nombreuses libertés au développeur).
\end{itemize}

\subsection{Laravel Framework}
Laravel est un framework web open-source écrit en PHP5 respectant le principe 
 \begin{wrapfigure}[4]{r}{4cm}
 	\includegraphics[width=1\linewidth]{./image_chapitre5/laravel}
 \end{wrapfigure}
 modèle-vue-contrôleur et entièrement développé en programmation orientée objet
. Laravel est distribué sous licence MIT.\\
C'est un Framework qui met beaucoup l'accent sur les
bonnes pratiques. Laravel est très utilisé par des grands sites
(vimeo par exemple) et est recommandé pour les
moyens et grands projets.
\subsubsection{Fonctionnalités principales}
Laravel est considéré comme le Framework le plus puissant, grâce notamment aux nombreuses fonctionnalités qu'il met à la disposition de ses utilisateurs:
\begin{itemize}
	\item \textbf{Sécurité : } protection contre injection SQL, filtrage et validation, etc.
	\item \textbf{Organisation du code :} L'organisation des répertoires et des classes suit certaines normes.
	\item \textbf{URL simples et claires :} un système de routage perfectionné (RESTFul et ressources).
	\item \textbf{Architecture MVC :} offre de base une architecture MVC permettant de séparer la présentation, la navigation et l'accès aux données.
	\item \textbf{Facilitation fonctions courantes  :} accès en base de données, authentification, droits d'accès, pagination etc.
\end{itemize}

\subsubsection{Choix de Laravel}
Nous avons préféré Laravel aux autres Frameworks PHP car c'est un Framework qui nous est familier, et dont les mécanismes de fonctionnement ne nous sont pas totalement méconnus. Ceci diminue considérablement le temps d'apprentissage et améliore la capacité  à résoudre les problèmes liés au développement durant la phase de codage.\\[0.7\baselineskip]
Par ailleurs notre choix est aussi motivé par les nombreux avantages offerts par ce Framework :
\begin{itemize}
	\item Il est soutenu par une large communauté et bénéficie d'une grande notoriété, 
	
	\item Une courbe d'apprentissage relativement rapide (contrairement aux autres grands framework),
	
	\item Des librairies sous forme de module,
	
	\item Librairie stable et fiable.
	
\end{itemize}

\subsection{Eloquent ORM}
\subsubsection{Définition d'un ORM}
Un ORM, pour Object-Relational Mapping, est une couche d'abstraction entre l'application et la base de données. Il donne l'illusion de travailler avec une base de données orientée objet. En effet, il permet de mapper directement la base de données relationnelle en objet.  De ce fait, le développeur ne se soucie quasiment plus des requêtes SQL ni du SGBD que l'application utilise.
\subsubsection{Eloquent}
Eloquent ORM inclus avec Laravel permet de travailler facilement avec la base de données.
Chaque table de base de données dispose d'un "modèle" correspondant qui est utilisé pour
interagir avec cette table. Les modèles permettent d'effectuer toute les opérations sur une table (insertion, modification , suppression) et offre une multitudes de fonctions qui permettent d'interagir avec les données sans avoir recours a des requêtes SQL complexes.

\subsection{Choix du standard de développement}
\label{sec:standard-dev} 
Il est généralement intéressant de suivre un certain design pattern (patron de conception) pour rendre le code plus aisé à maintenir et à faire évoluer. \\[0.7\baselineskip]
Pour le développement de notre application, nous avons décidé de suivre le pattern MVC. L'architecture MVC est devenue un standard de conception des applications Web modernes. Suivant ce modèle,  la plupart du code d'une application se retrouve dans l'une de ces couches : présentation, logique métier, et accès aux données. Le pattern MVC modélise cette séparation d'une manière quasi-parfaite. Cette séparation est indispensable pour maintenir le code global organisé, particulièrement lorsque plusieurs développeurs travaillent ensemble sur la même application.\\[0.7\baselineskip]
MVC est très utilisé avec PHP. Il est même devenu le pattern architectural le plus utilisé dans les Frameworks PHP, et Laravel n'en fait pas exception.\\[0.7\baselineskip]
La figure suivante résume les différentes interactions entre les couches du modèle MVC.   
\begin{figure}[h!]
	\centering
	\includegraphics[width=0.7\linewidth]{./image_chapitre5/mvc}
	\caption{Schéma des interations entre couches du modèle MVC}
\end{figure}

\subsubsection{Organisation du projet}
La hiérarchie de notre projet est comme présentée dans la figure ci-dessous. Chaque module possède ses propre contrôleurs, vues et repositories (classes de gestion de données).
La séparation en module permet de simplifier la tâche de maintenance du code et l'amélioration du projet.
\begin{figure}[h!]
	\centering
	\includegraphics[scale=1.3]{./image_chapitre5/application}
	\caption{Arborescence de l'application selon le pattern MVC}
	\label{fig:folder-structure}
\end{figure}\\[0.7\baselineskip]
Dans ce qui suit, nous donnons une brève explication de chaque répertoire du projet : 

\begin{itemize}
	\item \textbf{Module Administration :} qui contient les contrôleurs et vues relatifs l'administration de l'application.
	\item \textbf{Module Auth :} ce module fourni permet la gestion d'authentification des utilisateurs (gestion des sessions).
	\item \textbf{Module Equipements :} qui contient les contrôleurs et vues nécessaires à la fonctionnalité d'inventaire des équipements (nomenclature, gammes, documentation, fournisseurs ...) .
	\item \textbf{Module Maintenance :} contient les contrôleurs et vue pour la gestion de la maintenance (corrective et préventive).
	\item \textbf{Utilisateur :} qui contient les contrôleurs et vues nécessaires qui permet la gestion des notifications (en temps réel).
	
\end{itemize}

\subsection{La sécurité de l'application}
La sécurité des systèmes d'information est l'ensemble des mesures techniques et
de protection permettant à un système d'information de résister à des évènements susceptibles
de compromettre la disponibilité, l'intégrité ou la confidentialité des données stockées.
Etant une solution web, notre solution est exposée d'avantages aux risques de failles
sécuritaires. Par conséquent nous nous somme intéresser en premier lieu aux attaques les plus
courantes, pour enfin trouver des solutions et protéger au mieux notre application.

\subsubsection{Sécurisation des interactions avec l'utilisateur}
\label{sec:secu-inject} 
Les applications Web sont caractérisées par un très grand nombre d'échanges entre l'utilisateur et le serveur. Ces échanges constituent une véritable source de risques qu'il faut maîtriser.

\subsubsection*{Validation et filtrage des formulaires}
Laravel fournit deux composants facilitant la validation des formulaires : FormRequest. Une erreur de validation sera générée quand le type de données reçues d'un ou plusieurs champs ne correspondent à ce que l'on attend réellement. De plus, une validation coté client (javascript) est effectué en premier lieu pour alléger la charge du serveur. 

\subsubsection*{Protection contre les injections SQL}
C'est une des plus vieilles failles connues mais c'est également la plus dangereuse. Une injection SQL consiste à saisir des requêtes SQL dans un champ de formulaire, pour obtenir des informations sur le fonctionnement de l'application et de passer outre certaines autorisations.
La protection contre les injections SQL est assurée par Eloquent ORM. L'utilisation des méthodes fourni par ce dernier permet d'éviter ce genre d'attaque.

\subsubsection*{Protection contre les attaques CSRF}
Cette attaque est relativement simple à mettre en place et consiste à envoyer à un client authentifié sur un site un script dissimulé (dans une page web ou un email) pour lui faire accomplir une action à son insu.
Pour se prémunir contre ce genre d'attaque Laravel génère un token aléatoire associé au formulaire de telle sorte qu'à la soumission ce token est vérifié pour être sûr de l'origine (avec le composant VerifyCsrfToken).

\subsubsection*{Protection contre les attaques XSS}
C'est une technique qui consiste à injecter du code HTML contenant du JavaScript dans une page pour le faire exécuter à un utilisateur (pour voler une session ou un mot de passe par exemple).
Les vulnérabilités de type XSS apparaissent dans les vues. Pour pallier ce problème, Laravel propose le composant Blade. Ce dernier propose une syntaxe (double accolades \{\{\ \}\}) qui permet d'échapper le code html et ainsi afficher les balise <> plutôt que de les exécuter.


\subsubsection{Authentification et contrôles d'accès } 
Un élément clef de la sécurisation d'une application web consiste à déterminer si un utilisateur donné a le droit d'accéder à la ressource qu'il demande. Cette sécurisation s'effectue en deux étapes : une étape d'authentification et une étape d'autorisation permettant de vérifier que l'utilisateur a bien le droit d'accéder à la ressource souhaitée.
La plupart des Frameworks PHP modernes possèdent les concepts d'authentification ou de contrôle d'accès. Dans le cas de Laravel, l'authentification est gérée par le composant
\begin{BVerbatim}
Controller\auth
\end{BVerbatim}, alors que le contrôle d'accès est géré par 
\begin{BVerbatim}
Middelware\authenticate
\end{BVerbatim}

\subsection{Autres choix technologiques}
\subsubsection{jQuery}
\begin{wrapfigure}{r}{4cm}
	\includegraphics[width=4cm,height=2cm]{./image_chapitre5/jquery}
\end{wrapfigure}
jQuery est une bibliothèque libre développée en JavaScript (dit également Framework JavaScript). C'est un logiciel open source distribué sous les licences combinées du MIT et GPL.  JQuery permet de manipuler d'une manière aisée le Document Object Model plus connu sous son abréviation DOM, et qui est un standard du W3C. \\[0.7\baselineskip]
En plus de l'utilisation de cette librairie, plusieurs plugins ont été utilisés, les plus importants sont:
\begin{itemize}
	\item Bootstrap validation.
	\item Datatables.js.
	\item Moment.js.
	\item notifications.js
	\item fullcalendar.js.
	\item waitme.js.
\end{itemize}
\subsubsection{Node.js}
\begin{wrapfigure}{r}{4cm}
	\includegraphics[width=4cm,height=2cm]{./image_chapitre5/nodejs}
\end{wrapfigure}
Node.js est une plateforme logicielle libre et événementielle en JavaScript orientée vers les applications réseau qui doivent pouvoir monter en charge. il est distribué sous licence MIT. Concrètement, node.js est un environnement d'assez bas niveau permettant d'exécuter du javascript non plus dans le navigateur web mais sur le serveur.
\subsubsection{Socket.IO}
socket.io est l'une des bibliothèques les plus plus utilisées avec Node.js. Elle permet de
\begin{wrapfigure}{r}{4cm}
	\includegraphics[width=4cm,height=2cm]{./image_chapitre5/socketio}
\end{wrapfigure}
faire très simplement de la communication synchrone dans l'application, c'est-à-dire de la communication en temps réel.socket.io se base sur plusieurs techniques différentes qui permettent la communication en temps réel, La plus connue d'entre elles est WebSocket (API javascript).\\[0.5\baselineskip]
 
 Ces deux technologies ( Node.JS et Socket.IO) combinées aux composant app\textbackslash Events de Laravel nous ont permet de mettre en place un système de notification en temps réel.
 
 \section{Interfaces de l'application}
 Nous donnons dans ce qui suit les principales interfaces de l'application produite.
 \subsection{Interface d'authentification}
 
 \subsubsection*{Authentification}
 
 C'est la première interface qui apparait au lancement de l'application (voir figure \autoref{fig:interface-auth}).
 \begin{figure}[H]
 	\centering
 	\includegraphics[width=1\linewidth]{./image_chapitre5/connexion}
 	\caption{Interface d'authentification de l'application}
 	\label{fig:interface-auth}
 \end{figure}
 
 \subsubsection*{Réinitialisation de mot de passe}
 En cas d'oubli de mot de passe, l'utilisateur peut demander un nouveau mot de passe que le système envoie par e-mail. Évidemment l'utilisateur doit introduire une adresse e-mail valide (c'est-à-dire qui existe dans la base de données).
 \begin{figure}[h!]
 	\centering
 	\includegraphics[width=1\linewidth]{./image_chapitre5/reset}
 	\caption{Réinitialisation de mot de passe en cas d'oubli}
 \end{figure}
 
 \section{Conclusion}
 À travers ce dernier chapitre, nous avons décrit la partie réalisation de notre solution. Ainsi, nous avons exposé, en premier lieu, l'environnement matériel et logiciel dans lequel nous avons développé notre application, suivi d'une présentation de nos différents choix technologique.\\[0.7\baselineskip]
 Nous avons, par la suite, présenté les interfaces les plus significatives de notre application moyennant des captures d'écrans, tout en donnant des explications brèves des fonctionnalités offertes par l'application finale.